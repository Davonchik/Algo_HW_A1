# Оценка площади пересечения кругов методом Монте-Карло

Этот проект реализует алгоритм метода Монте-Карло для приближенного вычисления площади пересечения трех заданных окружностей. Также проводится экспериментальный анализ точности метода в зависимости от параметров: размеров области генерации точек и количества точек $N$.

---

## Постановка задачи

Даны три окружности:
1. Центр: $(1, 1)$, радиус: $1$.
2. Центр: $(1.5, 2)$, радиус: $\frac{\sqrt{5}}{2}$.
3. Центр: $(2, 1.5)$, радиус: $\frac{\sqrt{5}}{2}$.

Цель:
- Приближенно вычислить площадь пересечения этих окружностей методом Монте-Карло.
- Сравнить результаты с точным значением площади:
  $S = 0.25\cdot \pi + 1.25\cdot\arcsin(0.8) - 1.$
- Построить графики
  
---

## Алгоритм Монте-Карло

1. **Случайная генерация точек** в прямоугольной области:
   - **Широкая область** охватывает все три окружности.
   - **Узкая область** ограничивает только пересечение.
2. **Проверка принадлежности точки** пересечению окружностей.
3. **Приближённая площадь**:
   $\tilde{S} = \left(\frac{M}{N}\right) \cdot S_{\text{rec}},$
   где $M$ — количество точек внутри пересечения, $N$ — общее число точек.
4. **Результаты записываются** в файлы `big_square.txt` и `small_square.txt`.

Каждая строка файла содержит:
- \( n \) — количество точек.
- \( $\tilde{S}$ \) — приближённую площадь.
- \( $\Delta$ \) — относительную ошибку:
  $\Delta = \left|\frac{\tilde{S} - S}{S}\right|.$
---

## Результаты

### Графики
1. **Зависимость приближенной площади от количества точек $N$:**
   - Увеличение $N$ приводит к стабилизации приближенного значения $\tilde{S}$, которое сходится к точному значению $S$.
   - Узкая прямоугольная область позволяет быстрее достичь стабильных результатов.
![First Type Plot](first_type_plot.png)
2. **Относительное отклонение от точной площади:**
   - Относительное отклонение 
     $\Delta = \left|\frac{\tilde{S} - S}{S}\right|$
     уменьшается с увеличением $N$.
   - Узкая область генерации точек демонстрирует меньшее отклонение при одинаковых параметрах.
![Second Type Plot](second_type_plot.png)
---

## Выводы

После проведения экспериментов с использованием метода Монте-Карло для приближенного вычисления площади пересечения трех окружностей, можно сделать следующие выводы:

1. **Зависимость площади от количества точек:**
   - При увеличении количества случайных точек (N) приближенная площадь постепенно стабилизируется и приближается к точному значению. Это подтверждается тем, что на графике зависимости приближенной площади от числа точек (первый тип графика) приближенные значения стремятся к точной площади, с минимальными колебаниями на больших значениях N.
   - Графики показывают, что увеличение числа точек помогает улучшить точность результата, но на больших значениях точек улучшение становится менее заметным, что связано с законом больших чисел.

2. **Зависимость относительной ошибки от количества точек:**
   - График зависимости относительной ошибки (второй тип графика) демонстрирует, что ошибка уменьшается при увеличении количества точек, но остаются случайные выбросы на некоторых промежуточных значениях N.
   - При использовании более плотной области (малый квадрат) ошибка относительно точной площади оказывается ниже, чем при большем квадрате. Это подтверждает, что выбор ограниченной области для генерации точек может повысить точность результата, так как площадь, в которой происходят вычисления, становится более приближенной к искомому пересечению кругов.

3. **Влияние области генерации точек:**
   - Использование меньшей области для генерации случайных точек (малый квадрат) приводит к уменьшению относительной ошибки, так как большинство точек генерируется в пределах пересечения кругов.
   - В то время как большая область (большой квадрат) включает больше пустых пространств, что повышает вероятность ошибок и увеличивает отклонения в расчетах при меньшем количестве точек.

4. **Эффективность метода:**
   - Метод Монте-Карло оказался достаточно эффективным для приближенного вычисления площади пересечения кругов. Однако точность вычислений зависит от количества точек и размера выбранной области.
   - Для более точных результатов требуется использовать более высокое количество точек, что, однако, увеличивает вычислительную сложность и время работы программы.

В целом, метод Монте-Карло является хорошим инструментом для решения задач, где точное аналитическое решение затруднительно, однако для достижения высокой точности требуется много вычислительных ресурсов.
